<html><head><title>inpaint_nans (OpenPIV)</title>
<!-- Help file for inpaint_nans.m generated by makehtmldoc 1.22, 10-Feb-2012 02:07:32 -->
<!-- makehtmldoc (F. Moisy, 2005-2006), see http://www.fast.u-psud.fr/~moisy/ml/ -->
 
<link rel=stylesheet href="docstyle1.css" type="text/css">
</head>
<body bgcolor=#ffffff>
<table width="100%" border=0 cellpadding=0 cellspacing=0><tr><td valign=baseline bgcolor="#e7ebf7"><b><a href="Contents.html">Contents</a></b></td><td valign=baseline bgcolor="#e7ebf7" align=center>&nbsp;<a href="matlab:open 'inpaint_nans.m'"><b>View code</b></a></td><td valign=baseline bgcolor="#e7ebf7" align=right><a href="find_displacement_rect.html"><b>&lt;&lt; Prev</b></a>&nbsp;|&nbsp;<a href="openpiv_gui.html"><b>Next &gt;&gt;</b></a>&nbsp;</td></tr></table>
<font size=+3 color="#990000">inpaint_nans</font><br>
in-paints over nans in an array<br>
<br>
 
<font size=+1 color="#990000"><b>Description</b></font>
<code><pre>
usage: B=<b>inpaint_nans</b>(A)          % default method 
usage: B=<b>inpaint_nans</b>(A,method)   % specify method used 
 
Solves approximation to one of several pdes to 
interpolate and extrapolate holes in an array 
 
arguments (input): 
  A - nxm array with some NaNs to be filled in 
 
  method - (OPTIONAL) scalar numeric flag - specifies 
      which approach (or physical metaphor to use 
      for the interpolation.) All methods are capable 
      of extrapolation, some are better than others. 
      There are also speed differences, as well as 
      accuracy differences for smooth surfaces. 
 
      methods {0,1,2} use a simple plate metaphor. 
      method  3 uses a better plate equation, 
                but may be much slower and uses 
                more memory. 
      method  4 uses a spring metaphor. 
      method  5 is an 8 neighbor average, with no 
                rationale behind it compared to the 
                other methods. I do not recommend 
                its use. 
 
      method == 0 --&gt; (DEFAULT) see method 1, but 
        this method does not build as large of a 
        linear system in the case of only a few 
        NaNs in a large array. 
        Extrapolation behavior is linear. 
 
      method == 1 --&gt; simple approach, applies del^2 
        over the entire array, then drops those parts 
        of the array which do not have any contact with 
        NaNs. Uses a least squares approach, but it 
        does not modify known values. 
        In the case of small arrays, this method is 
        quite fast as it does very little extra work. 
        Extrapolation behavior is linear. 
 
      method == 2 --&gt; uses del^2, but solving a direct 
        linear system of equations for nan elements. 
        This method will be the fastest possible for 
        large systems since it uses the sparsest 
        possible system of equations. Not a least 
        squares approach, so it may be least robust 
        to noise on the boundaries of any holes. 
        This method will also be least able to 
        interpolate accurately for smooth surfaces. 
        Extrapolation behavior is linear. 
 
      method == 3 --+ See method 0, but uses del^4 for 
        the interpolating operator. This may result 
        in more accurate interpolations, at some cost 
        in speed. 
 
      method == 4 --+ Uses a spring metaphor. Assumes 
        springs (with a nominal length of zero) 
        connect each node with every neighbor 
        (horizontally, vertically and diagonally) 
        Since each node tries to be like its neighbors, 
        extrapolation is as a constant function where 
        this is consistent with the neighboring nodes. 
 
      method == 5 --+ See method 2, but use an average 
        of the 8 nearest neighbors to any element. 
        This method is NOT recommended for use. 
 
 
arguments (output): 
  B - nxm array with NaNs replaced 
 
 
</pre>
<font size=+1 color="#990000"><b>Example</b></font>
<pre>
 
 [x,y] = meshgrid(0:.01:1); 
 z0 = exp(x+y); 
 znan = z0; 
 znan(20:50,40:70) = NaN; 
 znan(30:90,5:10) = NaN; 
 znan(70:75,40:90) = NaN; 
 
 z = <b>inpaint_nans</b>(znan); 
 
 
</pre>
<font size=+1 color="#990000"><b>See Also</b></font>
<pre>
griddata, interp1 
 
Author: John D'Errico 
e-mail address: woodchips@rochester.rr.com 
Release: 2 
Release date: 4/15/06 
</pre></code>
 
<br>
<table width="100%" border=0 cellspacing=0 bgcolor="#e7ebf7"><tr><td>&nbsp;<a href="find_displacement_rect.html"><b>Previous: find_displacement_rect</b></a></td><td align=right><a href="openpiv_gui.html"><b>Next: openpiv_gui</b></a>&nbsp;</td></tr></table><br>
(c) 1998-2011<br>
<br>
<font size=-1>Help file generated by <a href="http://www.fast.u-psud.fr/~moisy/ml" target="_blank">makehtmldoc 1.22</a></font><br>
</body></html>
